<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Selenium Remote Control: Writing your own Client Driver</title>
<link rel="stylesheet" href="default.css" type="text/css" />
</head>
<body>
<h1>Selenium Remote Control: Writing your own Client Driver</h1>

<p>Writing your own Client Driver is as easy as pie.  All you need to automate tasks in the browser is to send HTTP commands to the Selenium Server, and to parse their responses.</p>

<p>Selenium Commands are sent to the server with HTTP Parameters, like this:</p>

<p>&nbsp;&nbsp;&nbsp;<tt>http://localhost:4444/selenium-server/driver/?cmd=getNewBrowserSession&1=*firefox&2=http%3A%2F%2Fgoogle.com</tt></p>

<p>If the command is an "Accessor" (a command designed to return data), then the response will begin with "OK," followed by the data to be sent, or it will contain an error message.  A normal response to this command might be:</p>

<p>&nbsp;&nbsp;&nbsp;<tt>OK,123125245345</tt></p>

<p>You'll need to keep track of that string to use it again later, just like you did in the interactive tutorial.</p>

<p>Some commands can return more complicated values, like arrays of strings.  Arrays of strings are encoded in a comma-delimited format...  the values themselves are separated by "," characters.  If one of the values itself contains a comma, it will prepend a backslash before the comma ("escaping" the comma), like this: "\,".  If the value contains a backslash, the Server will escape the backslash, like this: "\\".</p>

<p>Normally your workflow will be:</p>

<ol>
<li>Get a new browser session with "getNewBrowserSession"</li>
<li>Send some commands using that session</li>
<li>close the browser session with "testComplete"</li>
</ol>

<p>We also have a detailed write-up of the <a href="http://wiki.openqa.org/display/SRC/Specifications+for+Selenium+Remote+Control+Client+Driver+Protocol">Selenium Remote Control Client Driver Protocol (SRC-CDP)</a> full of details, but that should be enough to get you started.</p>

<p>If you're familiar with at least one of the officially supported Client Drivers, you may benefit from viewing their <a href="http://www.openqa.org/selenium-rc/cvs.action">source code</a> as an example.</p>

<h2>Generating your own Client Driver</h2>

<p>If you want to get fancy, you can automatically generate your Client Driver based on an XML representation of the Selenium API, provided by Selenium Core.  The XML representation includes a complete list of the commands supported by the Selenium Server.</p>

<p>All of our officially supported Client Drivers automatically generate themselves, because it makes it easier for users of the Client Driver to see what commands are available just by looking at the Client Driver itself, and because it allows us to embed API documentation into the code so we can use standard documentation generation tools like JavaDoc, NDoc, (E|Hap)Pydoc or RDoc to present you with documentation with which end users will be familiar.</p>

If you want to see examples of XSLT to generate our officially supported drivers, look here:

<ul>
<li><a href="http://svn.openqa.org/fisheye/viewrep/selenium-rc/trunk/clients/java/iedoc2java.xml">Java</a>
<li><a href="http://svn.openqa.org/fisheye/viewrep/selenium-rc/trunk/clients/dotnet/iedoc2csharp.xml">C#</a>
<li><a href="http://svn.openqa.org/fisheye/viewrep/selenium-rc/trunk/clients/python/iedoc2python.xml">Python</a>
<li><a href="http://svn.openqa.org/fisheye/viewrep/selenium-rc/trunk/clients/ruby/iedoc2ruby.xml">Ruby</a>
</ul>

</body></html>